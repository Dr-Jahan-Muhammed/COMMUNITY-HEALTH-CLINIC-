<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Community Health Clinic</title>

<style>
/* =========================
   BASIC RESET & BODY
========================= */
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#f9fafb;
  color:#222;
}

/* =========================
   WELCOME OVERLAY
========================= */
.welcome-overlay{
  position:fixed;
  inset:0;
  background:rgba(255,255,255,0.92);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:5000;
  opacity:1;
  transition:opacity 1s ease;
}
.welcome-overlay.hide{
  opacity:0;
  pointer-events:none;
}
.welcome-overlay h1{
  font-size:42px;
  margin:0;
}
.welcome-overlay p{
  margin-top:10px;
  font-style:italic;
  color:#555;
}

/* =========================
   HEADER
========================= */
header{
  position:sticky;
  top:0;
  z-index:1000;
  background:white;
  padding:14px 16px;
  text-align:center;
  transition:background 0.3s ease, backdrop-filter 0.3s ease;
}
header.scrolled{
  background:rgba(255,255,255,0.7);
  backdrop-filter:blur(10px);
}
.since{
  font-size:12px;
  color:#777;
}
.clinic-name{
  font-size:22px;
  font-weight:700;
}
.plus{
  color:#facc15;
  font-weight:900;
}
.address{
  font-size:13px;
  color:#666;
}

/* =========================
   SECTION STYLES
========================= */
section{
  padding:20px 16px;
}
.section-title{
  font-size:20px;
  font-weight:600;
  margin-bottom:14px;
}

/* =========================
   SERVICES
========================= */
.services{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
.service-card{
  background:white;
  padding:14px;
  border-radius:14px;
  box-shadow:0 4px 10px rgba(0,0,0,0.05);
  text-align:center;
  font-size:14px;
}

/* =========================
   TOKEN FORM
========================= */
.token-box{
  background:white;
  padding:16px;
  border-radius:18px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}
.token-box input, .token-box select{
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ddd;
}
.token-box button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#16a34a;
  color:white;
  font-size:16px;
}

/* =========================
   TOKEN DISPLAY
========================= */
.token-display{
  margin-top:16px;
  padding:18px;
  background:#ecfeff;
  border-radius:18px;
  text-align:center;
  position:relative;
  overflow:hidden;
}
.ribbon{
  position:absolute;
  width:200%;
  height:6px;
  background:linear-gradient(90deg,#22c55e,#3b82f6,#22c55e);
  top:10px;
  animation:ribbon 4s linear infinite;
}
@keyframes ribbon{
  from{transform:translateX(-50%);}
  to{transform:translateX(0);}
}
.token-number{
  font-size:42px;
  font-weight:800;
}
.token-date{
  font-size:14px;
  color:#555;
}

/* =========================
   FEEDBACK
========================= */
.stars span{
  font-size:28px;
  cursor:pointer;
  color:#ccc;
}
.stars span.active{
  color:#facc15;
}
textarea{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:1px solid #ddd;
  margin-top:10px;
}
.feedback-btn{
  margin-top:10px;
  padding:10px;
  width:100%;
  border:none;
  border-radius:12px;
  background:#2563eb;
  color:white;
}
</style>
</head>

<body>

<!-- =========================
     WELCOME OVERLAY
========================= -->
<div id="welcomeOverlay" class="welcome-overlay">
  <h1>WELCOME</h1>
  <p>“Health is the real wealth.”</p>
</div>

<!-- =========================
     HEADER
========================= -->
<header id="header">
  <div class="since">Since 2003</div>
  <div class="clinic-name">COMMUNITY HEALTH CLINIC <span class="plus">+</span></div>
  <div class="address">Cheenimukku, Poonoor</div>
</header>

<!-- =========================
     SERVICES
========================= -->
<section>
  <div class="section-title">Services</div>
  <div class="services">
    <div class="service-card">General OP</div>
    <div class="service-card">Nebulisation</div>
    <div class="service-card">ECG</div>
    <div class="service-card">IV Fluids</div>
    <div class="service-card">Oxygen</div>
    <div class="service-card">Minor Procedures</div>
  </div>
</section>

<!-- =========================
     TOKEN
========================= -->
<section>
  <div class="section-title">Take Token (Next Day Only)</div>
  <div class="token-box">
    <input id="name" placeholder="Patient Name">
    <input id="age" type="number" placeholder="Age">
    <select id="sex">
      <option value="">Sex</option>
      <option>Male</option>
      <option>Female</option>
      <option>Other</option>
    </select>
    <input id="mobile" placeholder="Mobile Number">
    <button onclick="takeToken()">Take Token</button>
  </div>

  <div id="tokenResult" style="display:none" class="token-display">
    <div class="ribbon"></div>
    <div class="token-number" id="tokenNo"></div>
    <div class="token-date" id="tokenDate"></div>
  </div>
</section>

<!-- =========================
     FEEDBACK
========================= -->
<section>
  <div class="section-title">Feedback</div>
  <div class="stars" id="stars">
    <span data-v="1">★</span>
    <span data-v="2">★</span>
    <span data-v="3">★</span>
    <span data-v="4">★</span>
    <span data-v="5">★</span>
  </div>
  <textarea id="fbText" placeholder="Your feedback"></textarea>
  <button class="feedback-btn" onclick="submitFeedback()">Submit</button>
</section>

<script>
/* =========================
   WELCOME FADE (FIXED)
========================= */
document.addEventListener("DOMContentLoaded",()=>{
  setTimeout(()=>{
    const w=document.getElementById("welcomeOverlay");
    w.classList.add("hide");
    setTimeout(()=>w.style.display="none",1000);
  },2000);
});

/* =========================
   HEADER SCROLL
========================= */
window.addEventListener("scroll",()=>{
  document.getElementById("header")
    .classList.toggle("scrolled",window.scrollY>10);
});

/* =========================
   TOKEN LOGIC (LOCAL)
========================= */
let tokens = JSON.parse(localStorage.getItem("tokens")||"[]");

function takeToken(){
  const n=name.value.trim(), a=age.value, s=sex.value, m=mobile.value;
  if(!n||!a||!s||!m){alert("Fill all");return;}

  if(tokens.find(t=>t.name==n && t.age==a && t.sex==s)){
    alert("Token already taken");
    return;
  }

  const no=tokens.length+1;
  const d=new Date(); d.setDate(d.getDate()+1);
  tokens.push({name:n,age:a,sex:s,mobile:m,no:no,date:d.toDateString()});
  localStorage.setItem("tokens",JSON.stringify(tokens));

  tokenNo.textContent="TOKEN "+no;
  tokenDate.textContent=d.toDateString();
  tokenResult.style.display="block";
}

/* =========================
   FEEDBACK
========================= */
let rating=0;
document.querySelectorAll("#stars span").forEach(s=>{
  s.onclick=()=>{
    rating=s.dataset.v;
    document.querySelectorAll("#stars span").forEach(x=>{
      x.classList.toggle("active",x.dataset.v<=rating);
    });
  };
});
function submitFeedback(){
  if(!rating){alert("Select stars");return;}
  alert("Thank you for your feedback!");
}
</script>

</body>
</html>
